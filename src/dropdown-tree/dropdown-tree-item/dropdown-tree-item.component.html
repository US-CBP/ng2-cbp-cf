<li role="treeitem"
    id="{{id}}"
    class="cf-dropdown-tree-node"
    [class.cf-dropdown-tree-node-has-children]="hasChildren"
    [class.cf-dropdown-tree-node-no-children]="!hasChildren"
    [class.cf-dropdown-tree-node-expanded]="isExpanded"
    [class.cf-dropdown-tree-node-collapsed]="isExpanded === false"
    [class.cf-dropdown-tree-node-highlighted]="isHighlighted"
    [class.cf-dropdown-tree-node-selected]="isSelected"
    [attr.aria-selected]="isSelected"
    [attr.aria-expanded]="isExpanded">

    <div class="cf-dropdown-tree-node-line">
        <span class="cf-dropdown-tree-node-arrow" (click)="onExpanderClick()">
            <mat-icon *ngIf="expanderIcon != null">{{expanderIcon}}</mat-icon>
        </span><!--
        --><span #text class="cf-dropdown-tree-node-text" (click)="onNodeClick()" (mouseenter)="onNodeMouseEnter()">
            {{node.text}}
            <span class="cf-dropdown-tree-node-ripple" mat-ripple [matRippleTrigger]="text.nativeElement"></span>
        </span>
    </div>
    <ul role="group" *ngIf="showChildren">
        <cf-dropdown-tree-item *ngFor="let n of node.children"
                               [node]="n"
                               [idPrefix]="idPrefix"
                               [highlightedNode]="highlightedNode"
                               [selectedNode]="selectedNode"
                               [expandedNodes]="expandedNodes"
                               (nodeCollapsed)="onChildNodeCollapsed($event)"
                               (nodeExpanded)="onChildNodeExpanded($event)"
                               (nodeHighlighted)="onChildNodeHighlighted($event)"
                               (nodeSelected)="onChildNodeSelected($event)"></cf-dropdown-tree-item>
    </ul>
</li>
