<div id="{{id}}-pay-period-calendar" class="pay-period-calendar">
    <div class="pay-period-calendar-nav">
        <div class="prev-month">
            <button type="button" mat-icon-button [disabled]="isFirstMonthShown()" (click)="showPreviousMonth()">
                <mat-icon>navigate_before</mat-icon>
                <span class="sr-only">Previous Month</span>
            </button>
        </div><!--
        --><div class="quick-select year">
            <mat-select id="{{id}}-pay-period-year" aria-label="Year" [(ngModel)]="shownYear">
                <mat-option *ngFor="let year of years" [value]="year">{{year}}</mat-option>
            </mat-select>
        </div><!--
        --><div class="quick-select month">
            <mat-select id="{{id}}-pay-period-month" aria-label="Month" [(ngModel)]="shownMonth">
                <mat-option *ngFor="let month of monthsOfYear" [value]="month">{{month.name}}</mat-option>
            </mat-select>
        </div><!--
        --><div class="next-month">
            <button type="button" mat-icon-button [disabled]="isLastMonthShown()" (click)="showNextMonth()">
                <mat-icon>navigate_next</mat-icon>
                <span class="sr-only">Next Month</span>
            </button>
        </div>
    </div>
    <table>
        <thead>
            <tr class="pay-period-calendar-day-headers">
                <th scope="col" class="pp"><abbr title="Pay Period">PP</abbr></th>
                <th scope="col" class="day sunday"><abbr title="Sunday">Su</abbr></th>
                <th scope="col" class="day monday"><abbr title="Monday">Mo</abbr></th>
                <th scope="col" class="day tuesday"><abbr title="Tuesday">Tu</abbr></th>
                <th scope="col" class="day wednesday"><abbr title="Wednesday">We</abbr></th>
                <th scope="col" class="day thursday"><abbr title="Thursday">Th</abbr></th>
                <th scope="col" class="day friday"><abbr title="Friday">Fr</abbr></th>
                <th scope="col" class="day saturday"><abbr title="Saturday">Sa</abbr></th>
            </tr>
        </thead>
        <tbody>
            <ng-template ngFor let-pp [ngForOf]="payPeriodsOfMonth" [ngForTrackBy]="payPeriodTrackBy" let-even="even" let-last="last">
                <tr id="{{id}}-pay-period-{{pp.id}}-week1"
                    class="week week1"
                    [class.even]="even"
                    [class.odd]="!even"
                    [class.last]="last"
                    [class.selected]="isSelected(pp)"
                    [class.not-selectable]="!pp.isSelectable"
                    [attr.aria-selected]="isSelected(pp)"
                    [attr.aria-disabled]="!pp.isSelectable"
                    (click)="selectPayPeriod(pp)">

                    <th scope="row" class="pp" rowspan="2">
                        <button type="button" mat-raised-button color="primary" [disabled]="!pp.isSelectable" (click)="selectPayPeriod(pp); $event.stopPropagation();">{{pp.number}}</button>
                        <span class="selected-text" *ngIf="isSelected(pp)">(selected)</span>
                    </th>
                    <td class="day sunday"
                        [class.selected]="isDaySelected(pp, 0)"
                        (click)="selectPayPeriod(pp, 0); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 1, 0)}}</span>
                    </td>
                    <td class="day monday"
                        [class.selected]="isDaySelected(pp, 1)"
                        (click)="selectPayPeriod(pp, 1); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 1, 1)}}</span>
                    </td>
                    <td class="day tuesday"
                        [class.selected]="isDaySelected(pp, 2)"
                        (click)="selectPayPeriod(pp, 2); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 1, 2)}}</span>
                    </td>
                    <td class="day wednesday"
                        [class.selected]="isDaySelected(pp, 3)"
                        (click)="selectPayPeriod(pp, 3); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 1, 3)}}</span>
                    </td>
                    <td class="day thursday"
                        [class.selected]="isDaySelected(pp, 4)"
                        (click)="selectPayPeriod(pp, 4); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 1, 4)}}</span>
                    </td>
                    <td class="day friday"
                        [class.selected]="isDaySelected(pp, 5)"
                        (click)="selectPayPeriod(pp, 5); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 1, 5)}}</span>
                    </td>
                    <td class="day saturday"
                        [class.selected]="isDaySelected(pp, 6)"
                        (click)="selectPayPeriod(pp, 6); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 1, 6)}}</span>
                    </td>
                </tr>
                <tr id="{{id}}-pay-period-{{pp.id}}-week2"
                    class="week week2"
                    [class.even]="even"
                    [class.odd]="!even"
                    [class.last]="last"
                    [class.selected]="isSelected(pp)"
                    [class.not-selectable]="!pp.isSelectable"
                    [attr.aria-selected]="isSelected(pp)"
                    [attr.aria-disabled]="!pp.isSelectable"
                    (click)="selectPayPeriod(pp)">

                    <td class="day sunday"
                        [class.selected]="isDaySelected(pp, 7)"
                        (click)="selectPayPeriod(pp, 7); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 2, 0)}}</span>
                    </td>
                    <td class="day monday"
                        [class.selected]="isDaySelected(pp, 8)"
                        (click)="selectPayPeriod(pp, 8); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 2, 1)}}</span>
                    </td>
                    <td class="day tuesday"
                        [class.selected]="isDaySelected(pp, 9)"
                        (click)="selectPayPeriod(pp, 9); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 2, 2)}}</span>
                    </td>
                    <td class="day wednesday"
                        [class.selected]="isDaySelected(pp, 10)"
                        (click)="selectPayPeriod(pp, 10); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 2, 3)}}</span>
                    </td>
                    <td class="day thursday"
                        [class.selected]="isDaySelected(pp, 11)"
                        (click)="selectPayPeriod(pp, 11); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 2, 4)}}</span>
                    </td>
                    <td class="day friday"
                        [class.selected]="isDaySelected(pp, 12)"
                        (click)="selectPayPeriod(pp, 12); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 2, 5)}}</span>
                    </td>
                    <td class="day saturday"
                        [class.selected]="isDaySelected(pp, 13)"
                        (click)="selectPayPeriod(pp, 13); $event.stopPropagation();">
                        <span>{{dayOfMonth(pp, 2, 6)}}</span>
                    </td>
                </tr>
            </ng-template>
        </tbody>
    </table>
</div>
